{"ast":null,"code":"import _defineProperty from\"/home/j0aki/Desktop/Develop/Henry/PI-Food-main/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/j0aki/Desktop/Develop/Henry/PI-Food-main/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{FILTER_DIETS,ORDERING,GET_ID_RECIPES,GET_NAME_RECIPES,GET_ALL_DIETS,GET_ALL_RECIPES,UPDATE_SELECTED_DIETS,FILTER_TYPE,VALIDATION_ERRORS}from\"./actions\";var initialState={allRecipes:[],idRecipe:[],nameRecipes:[],allDiets:[],filtredRecipes:[],selectedDiets:[],valErrors:[]};var rootReducer=function rootReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var actions=arguments.length>1?arguments[1]:undefined;switch(actions.type){case GET_ALL_RECIPES:return _objectSpread(_objectSpread({},state),{},{allRecipes:actions.payload});case GET_ID_RECIPES:return _objectSpread(_objectSpread({},state),{},{idRecipe:actions.payload});case GET_NAME_RECIPES:return _objectSpread(_objectSpread({},state),{},{allRecipes:actions.payload});case GET_ALL_DIETS:return _objectSpread(_objectSpread({},state),{},{allDiets:actions.payload});case ORDERING:if(actions.payload===\"A\"){return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.filtredRecipes.length?state.filtredRecipes.sort(function(a,b){return a.name.localeCompare(b.name);}):state.allRecipes.sort(function(a,b){return a.name.localeCompare(b.name);})});}else if(actions.payload===\"D\"){return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.filtredRecipes.length?state.filtredRecipes.sort(function(a,b){return b.name.localeCompare(a.name);}):state.allRecipes.sort(function(a,b){return b.name.localeCompare(a.name);})});}else if(actions.payload===\"hplus\"){return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.filtredRecipes.length?state.filtredRecipes.sort(function(a,b){return b.healthScore-a.healthScore;}):state.allRecipes.sort(function(a,b){return b.healthScore-a.healthScore;})});}else if(actions.payload===\"hless\"){return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.filtredRecipes.length?state.filtredRecipes.sort(function(a,b){return a.healthScore-b.healthScore;}):state.allRecipes.sort(function(a,b){return a.healthScore-b.healthScore;})});}else if(actions.payload==\"pplus\"){return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.filtredRecipes.length?state.filtredRecipes.sort(function(a,b){return b.price-a.price;}):state.allRecipes.sort(function(a,b){return b.price-a.price;})});}else if(actions.payload==\"pless\"){return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.filtredRecipes.length?state.filtredRecipes.sort(function(a,b){return a.price-b.price;}):state.allRecipes.sort(function(a,b){return a.price-b.price;})});}case UPDATE_SELECTED_DIETS:return _objectSpread(_objectSpread({},state),{},{selectedDiets:_objectSpread(_objectSpread({},state.selectedDiets),{},_defineProperty({},Object.keys(actions.payload.selectedDiets),actions.payload.selectedDiets[Object.keys(actions.payload.selectedDiets)]))});case FILTER_DIETS:var selectedDietKeys=Object.keys(state.selectedDiets).filter(function(key){return state.selectedDiets[key];});if(selectedDietKeys.length===0){return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.allRecipes});}return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.filtredRecipes.length?state.filtredRecipes.filter(function(recipe){return selectedDietKeys.every(function(diet){return recipe.diets.length>0&&recipe.diets.includes(diet.toLowerCase());});}):state.allRecipes.filter(function(recipe){return selectedDietKeys.every(function(diet){return recipe.diets.length>0&&recipe.diets.includes(diet.toLowerCase());});})});case FILTER_TYPE:if(actions.payload===\"ALL\"){return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.allRecipes});}else if(actions.payload===\"DB\"){return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.allRecipes.filter(function(recipe){return typeof recipe.id!=='number'&&recipe;})});}else if(actions.payload===\"API\"){return _objectSpread(_objectSpread({},state),{},{filtredRecipes:state.allRecipes.filter(function(recipe){return typeof recipe.id==='number'&&recipe;})});}case VALIDATION_ERRORS:console.log(state.valErrors);return _objectSpread(_objectSpread({},state),{},{valErrors:_objectSpread(_objectSpread({},state.valErrors),{},_defineProperty({},Object.keys(actions.payload),actions.payload[Object.keys(actions.payload)]))});default:return _objectSpread({},state);}};export default rootReducer;","map":{"version":3,"names":["FILTER_DIETS","ORDERING","GET_ID_RECIPES","GET_NAME_RECIPES","GET_ALL_DIETS","GET_ALL_RECIPES","UPDATE_SELECTED_DIETS","FILTER_TYPE","VALIDATION_ERRORS","initialState","allRecipes","idRecipe","nameRecipes","allDiets","filtredRecipes","selectedDiets","valErrors","rootReducer","state","arguments","length","undefined","actions","type","_objectSpread","payload","sort","a","b","name","localeCompare","healthScore","price","_defineProperty","Object","keys","selectedDietKeys","filter","key","recipe","every","diet","diets","includes","toLowerCase","id","console","log"],"sources":["/home/j0aki/Desktop/Develop/Henry/PI-Food-main/client/src/redux/reducer.js"],"sourcesContent":["import { FILTER_DIETS, ORDERING, GET_ID_RECIPES, GET_NAME_RECIPES, GET_ALL_DIETS, GET_ALL_RECIPES, UPDATE_SELECTED_DIETS, FILTER_TYPE, VALIDATION_ERRORS } from \"./actions\";\n\n\nconst initialState = {\n  allRecipes: [],\n  idRecipe: [],\n  nameRecipes: [],\n  allDiets: [],\n  filtredRecipes: [],\n  selectedDiets: [],\n  valErrors: [],\n};\n\n\nconst rootReducer = (state = initialState, actions) => {\n    switch (actions.type) {\n      case GET_ALL_RECIPES:\n        return {\n          ...state,\n          allRecipes: actions.payload,\n        };\n\n      case GET_ID_RECIPES:\n        return {\n          ...state,\n          idRecipe: actions.payload,\n        };\n\n      case GET_NAME_RECIPES:\n        return {\n          ...state,\n          allRecipes: actions.payload,\n        };\n\n      case GET_ALL_DIETS:\n        return {\n          ...state,\n          allDiets: actions.payload,\n        };\n\n      case ORDERING:\n        if (actions.payload === \"A\") {\n          return {\n            ...state,\n            filtredRecipes: state.filtredRecipes.length\n              ? state.filtredRecipes.sort((a, b) =>\n                  a.name.localeCompare(b.name)\n                )\n              : state.allRecipes.sort((a, b) => a.name.localeCompare(b.name)),\n          };\n        } \n        else if (actions.payload === \"D\") {\n          return {\n            ...state,\n            filtredRecipes: state.filtredRecipes.length\n              ? state.filtredRecipes.sort((a, b) =>\n                  b.name.localeCompare(a.name)\n                )\n              : state.allRecipes.sort((a, b) => b.name.localeCompare(a.name)),\n          };\n        } \n        else if (actions.payload === \"hplus\") {\n          return {\n            ...state,\n            filtredRecipes: state.filtredRecipes.length\n              ? state.filtredRecipes.sort(\n                  (a, b) => b.healthScore - a.healthScore\n                )\n              : state.allRecipes.sort((a, b) => b.healthScore - a.healthScore),\n          };\n        } \n        else if (actions.payload === \"hless\") {\n          return {\n            ...state,\n            filtredRecipes: state.filtredRecipes.length\n              ? state.filtredRecipes.sort(\n                  (a, b) => a.healthScore - b.healthScore\n                )\n              : state.allRecipes.sort((a, b) => a.healthScore - b.healthScore),\n          };\n        } \n        else if (actions.payload == \"pplus\") {\n          return {\n            ...state,\n            filtredRecipes: state.filtredRecipes.length\n              ? state.filtredRecipes.sort((a, b) => b.price - a.price)\n              : state.allRecipes.sort((a, b) => b.price - a.price),\n          };\n        } \n        else if (actions.payload == \"pless\") {\n          return {\n            ...state,\n            filtredRecipes: state.filtredRecipes.length\n              ? state.filtredRecipes.sort((a, b) => a.price - b.price)\n              : state.allRecipes.sort((a, b) => a.price - b.price),\n          };\n        }\n\n      case UPDATE_SELECTED_DIETS:\n        return {\n          ...state,\n          selectedDiets: {\n            ...state.selectedDiets,\n            [Object.keys(actions.payload.selectedDiets)]: actions.payload.selectedDiets[Object.keys(actions.payload.selectedDiets)],\n          }\n        };\n\n      case FILTER_DIETS:\n        const selectedDietKeys = Object.keys(state.selectedDiets).filter(\n          (key) => state.selectedDiets[key]\n        );\n\n        if (selectedDietKeys.length === 0) {\n          return {\n            ...state,\n            filtredRecipes: state.allRecipes,\n          };\n        }\n\n        return {\n          ...state,\n          filtredRecipes: state.filtredRecipes.length \n          ? state.filtredRecipes.filter((recipe) => selectedDietKeys.every((diet) => {\n              return recipe.diets.length > 0 && recipe.diets.includes(diet.toLowerCase());\n            })\n          )\n          : state.allRecipes.filter((recipe) => selectedDietKeys.every((diet) => {\n              return recipe.diets.length > 0 && recipe.diets.includes(diet.toLowerCase());\n            })\n          )\n        }\n\n      case FILTER_TYPE:\n        if (actions.payload === \"ALL\") {\n          return {\n            ...state,\n            filtredRecipes: state.allRecipes,\n          };\n        } \n        else if (actions.payload === \"DB\") {\n          return {\n            ...state,\n            filtredRecipes: state.allRecipes.filter((recipe) => typeof recipe.id !== 'number' && recipe)\n          };\n        } \n        else if (actions.payload === \"API\") {\n          return {\n            ...state,\n            filtredRecipes: state.allRecipes.filter((recipe) => typeof recipe.id === 'number' && recipe)\n          };\n        }\n\n      case VALIDATION_ERRORS:\n        console.log(state.valErrors);\n        return {\n          ...state,\n          valErrors: {\n            ...state.valErrors,\n            [Object.keys(actions.payload)]: actions.payload[Object.keys(actions.payload)],\n          }\n        };\n\n\n      default:\n        return { ...state };\n    }\n}\n\nexport default rootReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}